[website] move helper functions to `website/` and only take `config: WebsiteConfig` instead of `ctx`

# subdomain

[subdomain] `handle` -- do subdomain-based routing for many websites

[subdomain] we need to read `WebsiteConfig` at runtime
